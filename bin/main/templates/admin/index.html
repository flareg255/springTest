<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<link rel="stylesheet" href="css/bootstrap.min.css" th:href="@{/css/bootstrap.min.css}">
<link rel="stylesheet" href="css/style.css" th:href="@{/css/style.css}">
<script src="js/jquery-3.3.1.slim.min.js" th:src="@{/js/jquery-3.3.1.slim.min.js}"></script>
<script src="js/bootstrap.min.js" th:src="@{/js/bootstrap.min.js}"></script>
<title>掲示板トップ</title>
</head>
<body>
<div id="bg">
    <div id="wrap">
        <h1>掲示板</h1>
        <nav>
            <ul>
                <li><a th:href="@{'/input'}" class="btn btn-primary">入力</a></li>
            </ul>
        </nav>
        <div th:each="content : ${contents}">
            <div class="contentItem">
                <h2 th:text="${content.title}"></h2>
                <div th:text="${content.contents}"></div>
            </div>
        </div>
    </div>
</div>
<script>
        var maxNumber = 255;
        var currentNumber = 0;
        var colorFlag = true;
        var bg = document.getElementById('bg');

        function colorNumber(){
            if(currentNumber === maxNumber && colorFlag === true){
                colorFlag = false;
            }

            if(colorFlag){
                currentNumber++;
                bg.style.backgroundColor = 'rgb(' + currentNumber + ',' + currentNumber  + ',' +  currentNumber + ')';
                console.log(bg.style.backgroundColor);
            }else{
                currentNumber--;
                bg.style.backgroundColor = 'rgb(' + currentNumber + ',' + currentNumber  + ',' +  currentNumber + ')';
                console.log(bg.style.backgroundColor);
                if(currentNumber === 0){
                    colorFlag = true;
                }
            }

            setTimeout(colorNumber, 10);
        }
        colorNumber();
    </script>
</body>
</html>